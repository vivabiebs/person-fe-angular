<div>
  <app-header></app-header>
  <div class="person-container" [ngStyle]="{ marginTop: '50px' }">
    <h3 class="d-flex justify-content-center">Our people list</h3>
    <div class="d-flex justify-content-end">
      <button
        class="btn btn-margin"
        [ngStyle]="{ backgroundColor: 'plum', color: 'white' }"
        (click)="routeTo()"
        [disabled]="selectedPeople.length"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-person-add"
          viewBox="0 0 16 16"
        >
          <path
            d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm.5-5v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 1 0Zm-2-6a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"
          />
          <path
            d="M8.256 14a4.474 4.474 0 0 1-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484 10.68 5.711 10 8 10c.26 0 .507.009.74.025.226-.341.496-.65.804-.918C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4s1 1 1 1h5.256Z"
          />
        </svg>
        ADD NEW PERSON
      </button>
      <button
        class="btn btn-margin"
        [ngStyle]="{ backgroundColor: 'grey', color: 'white' }"
        [disabled]="!selectedPeople.length || selectedPeople.length > 1"
        (click)="editPerson()"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-pen"
          viewBox="0 0 16 16"
        >
          <path
            d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001zm-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708l-1.585-1.585z"
          />
        </svg>
        EDIT
      </button>
      <button
        class="btn btn-danger btn-margin"
        [disabled]="!selectedPeople.length || selectedPeople.length > 1"
        (click)="deletePerson()"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-trash"
          viewBox="0 0 16 16"
        >
          <path
            d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"
          />
          <path
            fill-rule="evenodd"
            d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"
          />
        </svg>
        DELETE
      </button>
      <button
        class="btn btn-margin"
        [ngStyle]="{ backgroundColor: 'black', color: 'white' }"
        [disabled]="!selectedPeople.length || selectedPeople.length > 1"
        (click)="viewPerson()"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-person-badge-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm4.5 0a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zM8 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm5 2.755C12.146 12.825 10.623 12 8 12s-4.146.826-5 1.755V14a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-.245z"
          />
        </svg>
        VIEW INFO
      </button>
    </div>
    <div class="persons-table-container">
      <table class="table table-hover table-striped">
        <thead class="thead-dark">
          <tr class="sortable-tr">
            <th scope="col">select</th>
            <th
              scope="col"
              (click)="sort('id')"
              class="d-flex justify-content-center"
            >
              id
            </th>
            <th scope="col" (click)="sort('firstname')">Firstname</th>
            <th scope="col" (click)="sort('lastname')">Lastname</th>
            <th scope="col" (click)="sort('age')">Age</th>
            <th scope="col" (click)="sort('birthdate')">Date of Birth</th>
            <th scope="col" (click)="sort('gender')">Gender</th>
            <th scope="col" (click)="sort('status')">Status</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let person of people">
            <td class="select-field">
              <input
                class="form-check-input"
                type="checkbox"
                (click)="select(+person.id)"
              />
            </td>
            <th scope="row" class="d-flex justify-content-center">
              {{ person.id }}
            </th>
            <td>{{ person.firstname }}</td>
            <td>{{ person.lastname }}</td>
            <td>{{ person.age }}</td>
            <td>{{ reverseDateFormat(person.birthdate) | date : "longDate" }}</td>
            <td>{{ changeToCapitalize(person.gender) }}</td>
            <td>{{ changeToCapitalize(person.status) }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <app-filter-person></app-filter-person>
</div>
